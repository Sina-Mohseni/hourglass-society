<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>HOURGLASS PROJECT</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Global Music Player (Hidden Audio Element) -->
    <audio id="globalAudio"></audio>

    <!-- Smartphone Frame -->
    <div class="smartphone-frame">
        <!-- Background Video Wallpaper - INSIDE the phone -->
        <video id="backgroundVideo" muted loop playsinline style="display:none;">
            <source src="" type="video/mp4">
        </video>
      <div class="background-image" id="backgroundImage"></div>
        <div class="background-overlay"></div>

        <!-- Commander Message Modal -->
        <div class="commander-modal" id="commanderModal">
            <div class="commander-modal-content">
                <div class="commander-header">
                    <div class="commander-profile">
                        <div class="commander-avatar">üïµÔ∏è</div>
                        <div class="commander-info">
                            <div class="commander-name">Messages Classifi√©s</div>
                            <div class="commander-rank">Commandant Omega</div>
                        </div>
                    </div>
                    <button class="modal-close-btn" onclick="closeCommanderMessage()">‚úï</button>
                </div>
                <div class="commander-body">
                    <div class="messages-accordion" id="messagesAccordion"></div>
                </div>
            </div>
        </div>

        <!-- Main Screen Content -->
        <div class="screen-content" id="screenContent">
            <!-- Home (Page d'accueil) -->
            <div class="app-window active" id="home">
                <div class="home-content">
                    <div class="home-welcome">
                        <h1 class="home-title">EA Mobile</h1>
                        <p class="home-subtitle">Interface Samsung S25 Ultra</p>
                    </div>
                    <div class="home-grid">
                        <!-- <button class="home-card" onclick="openApp('portal')">
                            <span class="home-card-icon">üîî</span>
                            <span class="home-card-label">Notifications</span>
                        </button>
                        <button class="home-card" onclick="openApp('parametres')">
                            <span class="home-card-icon">‚öôÔ∏è</span>
                            <span class="home-card-label">Param√®tres</span>
                        </button>
                        <button class="home-card" onclick="openApp('calendrier')">
                            <span class="home-card-icon">üìÖ</span>
                            <span class="home-card-label">Calendrier</span>
                        </button>
                        <button class="home-card" onclick="openApp('eaNexus')">
                            <span class="home-card-icon">‚ö°</span>
                            <span class="home-card-label">Projets</span>
                        </button> -->
                    </div>
                </div>
            </div>

            <!-- Le Coin de l'Auteur ‚Üí Membres -->
            <div class="app-window" id="membres">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Membres</h2>
                </div>
                <div class="app-content characters-gallery" id="charactersGallery"></div>
            </div>

            <!-- Flash (Actualit√©s du jour) -->
            <div class="app-window" id="flash">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Flash</h2>
                </div>
                <div class="app-content flash-content" id="flashContent"></div>
            </div>

            <!-- Carte (Map) -->
            <div class="app-window" id="carte">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>MONDE</h2>
                </div>
                <div class="app-content carte-content">
                    <div class="map-container">
                        <div class="map-title">üó∫Ô∏è Hourglass Society</div>
                        <div class="map-subtitle">√éle Secr√®te des Robots</div>
                        <div class="map-grid">
                            <div class="map-zone" onclick="showZoneInfo('nexus')">
                                <div class="zone-icon">‚ö°</div>
                                <div class="zone-name">Nexus Central</div>
                            </div>
                            <div class="map-zone" onclick="showZoneInfo('creative')">
                                <div class="zone-icon">üé®</div>
                                <div class="zone-name">Zone Cr√©ative</div>
                            </div>
                            <div class="map-zone" onclick="showZoneInfo('tech')">
                                <div class="zone-icon">üíª</div>
                                <div class="zone-name">Hub Technologique</div>
                            </div>
                            <div class="map-zone" onclick="showZoneInfo('leisure')">
                                <div class="zone-icon">üéÆ</div>
                                <div class="zone-name">Zone Loisirs</div>
                            </div>
                            <div class="map-zone" onclick="showZoneInfo('archives')">
                                <div class="zone-icon">üìö</div>
                                <div class="zone-name">Archives</div>
                            </div>
                            <div class="map-zone" onclick="showZoneInfo('port')">
                                <div class="zone-icon">‚öì</div>
                                <div class="zone-name">Port d'Acc√®s</div>
                            </div>
                        </div>
                        <div class="zone-info" id="zoneInfo"></div>
                    </div>
                </div>
            </div>

            <!-- SAGAS -->
            <div class="app-window" id="sagas">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>SAGAS</h2>
                </div>
                <div class="app-content" id="sagasContent">
                    <p style="color: white; text-align: center; margin-top: 50px;">Sagas √† venir...</p>
                </div>
            </div>

            <!-- Le Coin de l'Auteur (old - keep for ID compatibility) -->
            <!-- <div class="app-window" id="auteur">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Membres</h2>
                </div>
                <div class="app-content characters-gallery" id="charactersGalleryOld"></div>
            </div> -->

            <!-- Character Detail Page -->
            <div class="app-window" id="characterDetail">
                <div class="app-header">
                    <button class="back-btn" onclick="openApp('membres')">‚Üê</button>
                    <h2 id="characterDetailName">Personnage</h2>
                </div>
                <div class="app-content character-detail-content" id="characterDetailContent"></div>
            </div>

            <!-- Chat Page -->
            <div class="app-window" id="chat">
                <div class="app-header">
                    <button class="back-btn" onclick="backToCharacter()">‚Üê</button>
                    <div class="chat-header-info">
                        <div class="chat-header-avatar" id="chatHeaderAvatar"></div>
                        <h2 id="chatHeaderName">Chat</h2>
                    </div>
                </div>
                <div class="app-content chat-content">
                    <div class="chat-messages" id="chatMessages"></div>
                    <div class="chat-input-container">
                        <input type="text" id="chatInput" placeholder="√âcrire un message..." />
                        <button class="send-btn" onclick="sendMessage()">üì§</button>
                    </div>
                </div>
            </div>

            <!-- Calendrier -->
            <div class="app-window" id="calendrier">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>CHRONOLOGIE</h2>
                </div>
                <div class="app-content calendar-view">
                    <!-- Flash News Section -->
                    <div class="calendar-flash-section" id="calendarFlashSection">
                        <h3 class="flash-section-title">‚ö° Actualit√©s du Jour</h3>
                        <div class="flash-mini-feed" id="flashMiniFeed"></div>
                    </div>
                    
                    <div class="calendar-header">
                        <button id="prevMonth">‚Üê</button>
                        <span id="currentMonth">Janvier 2025</span>
                        <button id="nextMonth">‚Üí</button>
                    </div>
                    <div class="calendar-grid" id="calendarGrid"></div>
                    <div class="day-events" id="dayEvents"></div>
                </div>
            </div>

            <!-- Event Detail Page -->
            <div class="app-window" id="eventDetail">
                <div class="app-header">
                    <button class="back-btn" onclick="openApp('calendrier')">‚Üê</button>
                    <h2 id="eventDetailTitle">√âv√©nement</h2>
                </div>
                <div class="app-content event-detail-content" id="eventDetailContent"></div>
            </div>

            <!-- Project Detail Page -->
            <div class="app-window" id="projectDetail">
                <div class="app-header">
                    <button class="back-btn" onclick="goBackToCategory()">‚Üê</button>
                    <h2 id="projectDetailTitle">Projet</h2>
                </div>
                <div class="app-content project-detail-content" id="projectDetailContent"></div>
            </div>

            <!-- Param√®tres -->
            <div class="app-window" id="parametres">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Param√®tres</h2>
                </div>
                <div class="app-content settings-content">
                    <!-- Couleur du texte -->
                    <div class="settings-section">
                        <h3 class="settings-title">üé® Couleur d'accentuation</h3>
                        <div class="color-picker-container">
                            <input type="color" id="textColorPicker" value="#667eea">
                            <button class="reset-btn" onclick="resetTextColor()">R√©initialiser</button>
                        </div>
                    </div>

                    <!-- Lecteur de musique -->
                    <div class="settings-section">
                        <h3 class="settings-title">üéß Lecteur de Musique</h3>
                        <div class="music-player-full">
                            <div class="album-art-settings">
                                <div class="album-placeholder-settings">‚ô´</div>
                            </div>
                            <div class="current-track-info-full">
                                <div class="track-title-full" id="settingsTrackTitle">S√©lectionner une musique</div>
                                <div class="track-artist-full" id="settingsTrackArtist">EA Mobile</div>
                            </div>
                            <div class="progress-bar-settings">
                                <input type="range" id="settingsSeekBar" min="0" max="100" value="0">
                                <div class="time-display">
                                    <span id="settingsCurrentTime">0:00</span>
                                    <span id="settingsTotalTime">0:00</span>
                                </div>
                            </div>
                            <div class="music-controls-full">
                                <button class="control-btn-music" id="settingsPrevBtn" onclick="changeTrack(-1)">‚èÆ</button>
                                <button class="control-btn-music play-btn-music" id="settingsPlayBtn" onclick="toggleMusicPlayback()">‚ñ∂Ô∏è</button>
                                <button class="control-btn-music" id="settingsNextBtn" onclick="changeTrack(1)">‚è≠</button>
                                <button class="control-btn-music" id="settingsStopBtn" onclick="stopMusic()">‚èπÔ∏è</button>
                            </div>
                            <div class="playback-mode-controls">
                                <button class="mode-btn active" id="sequentialBtn" onclick="toggleSequential()" title="Lecture s√©quentielle">‚è≠Ô∏è</button>
                                <button class="mode-btn" id="repeatBtn" onclick="toggleRepeat()" title="R√©p√©ter">üîÅ</button>
                                <button class="mode-btn" id="shuffleBtn" onclick="toggleShuffle()" title="Al√©atoire">üîÄ</button>
                            </div>
                            <div class="volume-control-settings">
                                <span>üîä</span>
                                <input type="range" id="settingsVolumeBar" min="0" max="100" value="70">
                            </div>
                            <div class="playlist-settings-full" id="playlistSettings"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Projets -->
            <div class="app-window" id="projets">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Mes Projets</h2>
                </div>
                <div class="app-content projects-overview">
                    <div class="project-categories" id="projectCategories"></div>
                </div>
            </div>

            <!-- Lieux -->
            <div class="app-window" id="lieux">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Lieux</h2>
                </div>
                <div class="app-content lieux-content">
                    <div class="lieux-grid" id="lieuxGrid"></div>
                </div>
            </div>

            <!-- Location Detail (Zones) -->
            <div class="app-window" id="locationDetail">
                <div class="app-header">
                    <button class="back-btn" onclick="openApp('lieux')">‚Üê</button>
                    <h2 id="locationDetailName">Lieu</h2>
                </div>
                <div class="app-content location-zones" id="locationZones"></div>
            </div>

            <!-- EA NEXUS (App Launcher) -->
            <div class="app-window" id="eaNexus">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>EA NEXUS</h2>
                </div>
                <div class="app-content nexus-launcher">
                    <div class="nexus-grid" id="nexusGrid"></div>
                </div>
            </div>

            <!-- Anim'Connect -->
            <div class="app-window" id="animConnect">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Anim'Connect</h2>
                </div>
                <div class="app-content whatsapp-layout">
                    <div class="chat-list" id="chatList"></div>
                </div>
            </div>

            <!-- Subcategory Page (niveau 3) -->
            <div class="app-window" id="subcategoryPage">
                <div class="app-header">
                    <button class="back-btn" onclick="goBackToMainCategory()">‚Üê</button>
                    <h2 id="subcategoryName">Sous-cat√©gorie</h2>
                </div>
                <div class="app-content">
                    <div id="subcategoryProjects"></div>
                </div>
            </div>

            <!-- Echo-Sphere -->
            <div class="app-window" id="echoSphere">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Echo-Sphere</h2>
                </div>
                <div class="app-content social-feed" id="socialFeed"></div>
            </div>

            <!-- Arena -->
            <div class="app-window" id="arena">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Arena</h2>
                </div>
                <div class="app-content gaming-hub" id="gamingHub"></div>
            </div>

            <!-- Adventures -->
            <div class="app-window" id="adventures">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>Adventures</h2>
                </div>
                <div class="app-content habit-tracker" id="habitTracker"></div>
            </div>

            <!-- Medias -->
            <div class="app-window" id="medias">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>EA THEATER</h2>
                </div>
                <div class="app-content youtube-layout" id="youtubeLayout"></div>
            </div>

            <!-- EA Center (Tutoriels) -->
            <div class="app-window" id="eaCenter">
                <div class="app-header">
                    <button class="back-btn" onclick="closeApp()">‚Üê</button>
                    <h2>EA CENTER</h2>
                </div>
                <div class="app-content youtube-layout" id="eaCenterLayout"></div>
            </div>
        </div>

        <!-- Floating Lieux Button -->
        <button class="floating-lieux-btn" onclick="openApp('lieux')" title="Lieux">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="white">
                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
            </svg>
        </button>

        <!-- Floating Projets Button -->
        <button class="floating-projets-btn" onclick="openApp('eaNexus')" title="Projets">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="white">
                <path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
            </svg>
        </button>

        <!-- Top Floating Buttons -->
        <button class="floating-home-btn" onclick="openApp('home')" title="Accueil">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
        </button>

        <button class="floating-settings-btn" onclick="openApp('parametres')" title="Param√®tres">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
            </svg>
        </button>

        <!-- Bottom Navigation Footer -->
        <div class="bottom-nav">
            <button class="nav-btn world-icon" id="worldIcon" onclick="openApp('carte')" title="MONDE">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                </svg>
                <span class="nav-label">MONDE</span>
            </button>
            <button class="nav-btn chronologie-icon" id="chronologieIcon" onclick="openApp('calendrier')" title="CHRONOLOGIE">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                    <path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"/>
                </svg>
                <span class="nav-label">CHRONOLOGIE</span>
            </button>
            <button class="nav-btn sagas-icon" id="sagasIcon" onclick="openApp('sagas')" title="SAGAS">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                    <path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"/>
                </svg>
                <span class="nav-label">SAGAS</span>
            </button>
            <button class="nav-btn elements-icon" id="elementsIcon" onclick="openApp('membres')" title="ELEMENTS">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                </svg>
                <span class="nav-label">ELEMENTS</span>
            </button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
